<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" charset="utf-8"></script>
    <title></title>
  </head>
  <body>

<h1>I DO NOT OWN ANY OF THE TABLE</h1>
<p>The html table is completely taken from Minecraft Wiki; however, the code is mine.
  The original source is the
  <a href="https://minecraft.fandom.com/wiki/Pickaxe#Speed">Minecraft Wiki</a></p>

<table class="wikitable sortable" style="text-align:center">

<tbody><tr>
<th rowspan="2">Block
</th>
<th colspan="7"><a href="/wiki/Breaking" title="Breaking">Breaking</a> time<sup id="cite_ref-breakingtimenote_4-0" class="reference"><a href="#cite_note-breakingtimenote-4">&#91;A&#93;</a></sup>
</th></tr>
<tr>
<th data-sort-type="number">Default
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Wooden</span></span>
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Stone</span></span>
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Iron</span></span>
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Diamond</span></span>
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Netherite</span></span>
</th>
<th style="text-align:left" data-sort-type="number"><span class="nowrap"><span class="sprite-text">Golden</span></span>
</th></tr>

<tr class="cobble">
<th style="text-align:left"><a href="/wiki/Stone" title="Stone"><span class="nowrap"><span class="sprite-text">Stone</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">1.15
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.4
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.3
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.25
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.2
</td></tr>

<tr class="coal">
<th style="text-align:left"><a href="/wiki/Coal_Ore" title="Coal Ore"><span class="nowrap"><span class="sprite-text">Coal Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">2.25
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">1.15
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.4
</td></tr>

<tr class="iron">
<th style="text-align:left"><a href="/wiki/Iron_Ore" title="Iron Ore"><span class="nowrap"><span class="sprite-text">Iron Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">1.15
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>

<tr class="gold">
<th style="text-align:left"><a href="/wiki/Gold_Ore" title="Gold Ore"><span class="nowrap"><span class="sprite-text">Gold Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">3.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>

<tr class="redstone">
<th style="text-align:left"><a href="/wiki/Redstone_Ore" title="Redstone Ore"><span class="sprite-text">Redstone Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">3.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>

<tr class="lapis">
<th style="text-align:left"><a href="/wiki/Lapis_Lazuli_Ore" title="Lapis Lazuli Ore"><span class="sprite-text">Lapis Lazuli Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">1.15
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>

<tr class="diamond">
<th style="text-align:left"><a href="/wiki/Diamond_Ore" title="Diamond Ore"><span class="nowrap"><span class="sprite-text">Diamond Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">3.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>

<tr class="emerald">
<th style="text-align:left"><a href="/wiki/Emerald_Ore" title="Emerald Ore"><span class="nowrap"><span class="sprite-text">Emerald Ore</span></span></a>
</th>
<td class="tc-no" style="background-color: #FFC7CE;">15
</td>
<td class="tc-no" style="background-color: #FFC7CE;">7.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">3.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.75
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.6
</td>
<td class="tc-yes" style="background-color: #C6EFCE;">0.5
</td>
<td class="tc-no" style="background-color: #FFC7CE;">1.25
</td></tr>



</tbody></table><ol class="references">
<li id="cite_note-breakingtimenote-4"><span class="mw-cite-backlink"><a href="#cite_ref-breakingtimenote_4-0">↑</a></span> <span class="reference-text">Times are for unenchanted tools as wielded by players with no status effects, measured in seconds. For more information, see <a href="https://minecraft.fandom.com/wiki/Breaking#Speed" title="Breaking">Breaking § Speed</a>.</span>
</li>
</ol>

<div class="container">
  <p>To make things quick, when you select a target it automatically adds the item.</p>

  <input type="text" id="input" placeholder="enter price" value="">
  <select id="pick">
    <option value="0" disabled selected>Select a pickaxe</option>
    <option value="1">Wooden Pickaxe</option>
    <option value="2">Stone Pickaxe</option>
    <option value="3">Iron Pickaxe</option>
    <option value="4">Diamond Pickaxe</option>
  </select>
  <select id="efficiency">
    <option value="0" disabled selected>Efficiency Level</option>
    <option value="0">0</option>
    <option value="2">I</option>
    <option value="5">II</option>
    <option value="10">III</option>
    <option value="17">IV</option>
    <option value="26">V</option>
    <option value="37">VI</option>
    <option value="50">VII</option>
    <option value="65">VIII</option>
    <option value="82">IX</option>
  </select>
  <select id="ore">
    <option disabled selected>Select a mining target</option>
    <option value="cobble">Cobblestone</option>
    <option value="coal">Coal</option>
    <option value="iron">Iron</option>
    <option value="gold">Gold</option>
    <option value="redstone">Redstone</option>
    <option value="lapis">Lapis Lazuli</option>
    <option value="diamond">Diamond</option>
    <option value="emerald">Emerald</option>
  </select>

  <p id="output"></p>

  <script type="text/javascript">
    // $(window).load(function(){
    //   $('.preloader').fadeOut(1000); // set duration in brackets
    // });

    // hand, wood, stone, iron, diamond
    const tools = [1, 2, 4, 6, 8];
    // levels of efficiency starting at 0
    const efficiencyLevel = [0, 2, 5, 10, 17, 26, 37, 50, 65, 82];
    //1=wood, 2=stone, 3=iron, 4=diamond because that's what we did
    // const canHarvest = new Map([
    //   ["1", []],
    //   ["coal", 300],
    //   ["iron", 200],
    //   ["gold", 500],
    //   ["redstone", 300],
    //   ["lapis", 500],
    //   ["diamond", 300],
    //   ["emerald", 500]
    // ]);

    $(document).ready(function(){

      $('#ore').focusout(function(){
        var input = Number($('#input').val());
        console.log("--------------------------------");

        var row = $('tr.'+ore.value);
        var pickMultiplier;
        var blockHardness;

        if(ore.value == "cobble") {
          blockHardness = 1.5; //stone has a hardness of 1.5, cobble actually has a hardness of 2 but it doesnt matter
        } else {
          blockHardness = 3; //all the ores have a hardness of 3
        }

        /********************************************
          need to test if efficiency still helps out
          when you cannot harvest the block
        **/
        pickMultiplier = tools[pick.value];
        if(canHarvest(Number(pick.value), ore.value)) {
          pickMultiplier += Number(efficiency.value); //if you can harvest it, your efficiency boosts it
          blockHardness *= 30;
        } else { //if cannot harvest the block with current pick
          // pickMultiplier = 1; //the multiplier becomes 1 because that's how minecraft works edit: the wiki is wrong; confirmed through testing that this is false
          blockHardness *= 100;
        }

        console.log("blockHardness: "+blockHardness);
        console.log("pickMultiplier: "+pickMultiplier);
        var ticks = Math.ceil(blockHardness/pickMultiplier);
        console.log("ticks: "+ticks);

        var actualTime;

        if(ticks == 1) {
          actualTime = 0.05;
        } else {
          actualTime = 0.3 + ticks/20;
        }

        //value of time with eff 0 based on the original table
        var time = 0.3+Number(row.find('td:eq('+pick.value+')').text());
        var realTime = Math.ceil(45/(tools[pick.value] + Number(efficiency.value)))/20 + 0.3;
        console.log("time: "+time);
        console.log("realTime: "+realTime);
        console.log("actualTime: "+actualTime);

        $('#output').append('<div class="results">Target: '+ore.value+
          '<br>Selling price: \t'+input+
          '<br>Time: \t'+String(actualTime).substr(0,6)+' per block on average'+
          '<br>Profit per second: '+ String(input/actualTime).substr(0,6)+'<br></div>');
        $(this).val('');

      });

    });

    function canHarvest(pick, ore) {
      var harvestable = false;
      switch(pick) {
        case 1: //wooden pick
          switch(ore){
            case "cobble":
              harvestable = true;
              break;

            case "coal":
              harvestable = true;
              break;

            default:
              harvestable = false;
              break;
          }
          break;
        case 2: //stone pick
          switch(ore){
            case "cobble":
              harvestable = true;
              break;

            case "coal":
              harvestable = true;
              break;

            case "iron":
              harvestable = true;
              break;

            case "lapis":
              harvestable = true;
              break;

            default:
              harvestable = false;
              break;
          }
          break;
        case 3: //iron and diamond picks because they
        case 4:
          harvestable = true;
          break;
        default:
          // console.log("canHarvest() reached the default case");
          break;
      }
      return harvestable;
    }

    /*
    This is psuedo code for how this works in latty

    wood=2
    stone=4
    iron=6
    diamond=8
      speedMultiplier += efficiencyLevel ^ 2 + 1

    if (hasteEffect):
      speedMultiplier *= 0.2 * hasteLevel + 1

    damage = speedMultiplier / blockHardness
    damage /= 30

    # Instant breaking
    if (damage > 1):
      return 0

    ticks = roundup(1 / damage)
    seconds = ticks / 20
    return seconds

    */

  </script>

  <style media="screen">
    #output{
        margin-top: 5%;
        display: flex;
        padding-left: 5%;
        padding-right: 5%;
    }
    .results{
      float: left;
      border-style: solid;
      border-width: 2px;
      background: #C0EFBF;
      border-radius: 10px;
      padding: 0px 2px;
      margin: 3px;
    }
  </style>

</div>

<br>
If the tool and enchantments immediately exceed the hardness times 30, the block breaks with no delay;
<br>
otherwise a 6 tick (0.3 second) delay occurs before the next block begins to break.
<br>

  </body>
</html>
